### <a name="_b7urdng99y53"></a>**Название задачи:** 
### <a name="_hjk0fkfyohdk"></a>**Автор:**
### <a name="_uanumrh8zrui"></a>**Дата:**
### <a name="_3bfxc9a45514"></a>**Функциональные требования**
Опишите здесь верхнеуровневые Use Cases. Их нужно оформить в виде таблицы с пошаговым описанием:

|**№**|**Действующие лица или системы**|**Use Case**|**Описание**|
| :-: | :- | :- | :- |
|||||

| **№** | **Действующие лица или системы** | **Use Case**                                 | **Описание**                                                                                                           |
|:-----:|:---------------------------------|:---------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------|
|   1   | Клиент                           | Формирование заявки на кредита               | Клиент видит личные предложения, заполняет анкету и подает заявку на кредит, заявка асинхронно поступает на обработку. |
|       |                                  |                                        	  |                                                                                                                        |
|   2   | Сервис Кредитования              | Рассмотрение заявки на кредит           	  | Получает заявку на обработку, автоматически принимает решение по одобрению/отказу/изменений условий кредита на         |
|       |                                  |                                        	  | основе бизнес правил, решение подается через АБС                                                                       |
|       |                                  |                                        	  |                                                                                                                        |
|   3   | Сервис уведомление (СМС)         | Уведомление клиента                          | Финальный статус по кредиту передается клиенту через СМС об одобрении, отказе или необходимости уточнить доп. условния |
|       |                                  |                                        	  |                                                                                                                        |
|   4   | Сервис предодобрения             | Предварительный упрощенный расчет            | Сервис в фоне, периодически запускает процесс пересчета по кредитным предложениям для существующих клиентов,           |
|       |                                  |                                              | сохраняет в БД Предодобрений данный по кредитным предложениям                                                          |
|       |                                  |                                        	  |                                                                                                                        |

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**
Опишите здесь нефункциональные требования и архитектурно значимые требования.

|**№**|**Требование**|
| :-: | :- |
|||

| **№** | **Требование**                                                                                                                                       |
|:-----:|:-----------------------------------------------------------------------------------------------------------------------------------------------------|
|   1   | Время отклика должно составлять не более 20 секунд (для автоматического режима).                                                                     |
|   2   | Сервисы должны работать 24/7 и доступный простой 0.01% времени.                                                                                      |
|   3   | Сервис Кредитования должен поддерживать горизонтальное масштабирование (PostgreSQL) для обработки пиковых нагрузок                                   |
|   4   | Подача заявки не должны работать напрямую с АБС или ее БД.                                                                                           |
|   5   | Для обмена данными между Пользователем и сервисом Кредитования необходимо использовать брокер сообщений Kafka.                                       |
|   6   | Строгое разделение доступа к данным по депозитами и кредитами.                                                                                       |
|   7   | Предодобрение выполняется отдельно от сервиса Кредитования, чтобы не нагружать основной процесс Кредитования.                                        |

### <a name="_qmphm5d6rvi3"></a>**Решение**
Приведите диаграммы контекста и контейнеров в модели C4. Опишите там основные компоненты и интеграции всех элементов решения. 



Также опишите, какой логикой вы руководствовались в ходе принятия решений и выбора технологий. Не забывайте, что необходимо учесть все функциональные и нефункциональные требования.
### <a name="_bjrr7veeh80c"></a>**Альтернативы**
Опишите здесь наиболее важные альтернативные решения.
|       **Вариант**          | **Достоинства**                                | **Недостатки**                                                           |
|:--------------------------:|:-----------------------------------------------|:-------------------------------------------------------------------------|
| REST API для сервисов	     | Реальное время обновления статусов кредитов.   | Риск перегрузки АБС.	                                                 |
| Общая БД	                 | Нет задержек.                                  | Нарушает изоляцию систем. Небезопасно для целосности состояния.          |
| RabbitMQ 	                 | Адаптация в C#(аналогичная технология)         | Хуже показатели, сложнее эффективно масштабировать.                      |
| Монолитность 	             | Вся логика в одном модуле, возможно в АБС      | Сложность обновления, потенциальные проблемы по реализации и поддержке.  |

**Недостатки, ограничения, риски**

Подробно опишите здесь недостатки, ограничения и риски выбранного решения.

Технические ограничения

| **Категория**       | **Проблема**                                   | **Риск**                                                         |
|:--------------------|:-----------------------------------------------|:-----------------------------------------------------------------|
| Производительность  | Управление синхронизацией                      | Много пользователей, много расчетов предусловий, нагрузка на АБС |
| Надёжность          | Сбой Сервиса Кредитования                      | Прерывание процесса кредитования повлияет на расчет предодобрения|
| Экспертность        | Развертывание требует знаний в Kafka           | Бюджет на специалистов                                           |
| Согласованность     | Сложность синхронностью данных                 | Предодобрение может быть не актуальным, часто пересмотр условий  |
| Актуальность данных | Задержка обновления ставок по депозитам        | В кол-центре ставки за час могут быть не актуальными             |

